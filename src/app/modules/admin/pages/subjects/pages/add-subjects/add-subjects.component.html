<app-title>Dodaj przedmioty</app-title>

<div class="max-w-[800px] mt-8 flex flex-col gap-5">
  <div
    *ngFor="let item of $any(form.get('subjects')).controls; let i = index"
    [formGroup]="item"
    class="grid grid-cols-1 gap-5 md:grid-cols-2 relative"
  >
    <mat-form-field>
      <mat-label>Nazwa przedmiotu</mat-label>
      <input
        matInput
        formControlName="subName"
        placeholder="Nazwa przedmiotu"
      />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Kod przedmiotu</mat-label>
      <input matInput formControlName="subCode" placeholder="Kod przedmiotu" />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Ilość zajęć</mat-label>
      <input matInput formControlName="sessions" placeholder="Ilość zajęć" />
    </mat-form-field>

    <div
      (click)="removeFormGroup(item, i)"
      class="absolute left-full ml-5 w-10 top-1/2 -translate-y-1/2"
    >
      <button mat-raised-button color="warn">Usuń</button>
    </div>
  </div>

  <button
    mat-raised-button
    class="w-1/3"
    color="primary"
    (click)="addNextSubject()"
  >
    Dodaj kolejny przedmiot
  </button>

  <button
    (click)="submitForm()"
    mat-raised-button
    class="w-full"
    color="primary"
    [disabled]="form.invalid"
  >
    Dodaj
  </button>
</div>
